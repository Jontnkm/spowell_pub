<%
var url = locals.url ? locals.url : '../../';
%>
<div class="cptHeader">
	<div class="headerTop">
		<div class="inner">
			<div class="kspoLogo">
				<a href="#none" target="_blank" title="새창열림">
					<img src="../../common/images/common/kspoLogo.svg" alt="kspo 국민체육진흥공단" class="pcLogo"/>
					<img src="../../common/images/common/kspoLogo_mo.svg" alt="kspo 국민체육진흥공단" class="moLogo" />
				</a>
			</div>
			<div class="siteOption">
				<div class="member">
					<!-- 로그인 전 -->
					<div class="beforeLogin">
						<a href="#none" class="login">로그인</a>
						<a href="#none" class="join">체육인 회원가입</a>
					</div>

					<!-- 로그인 후 -->
					<!-- <div class="afterLogin">
						<div class="info">
							<span>홍길동</span>님 (<span>국가대표선수</span>)
						</div>
						<div class="time">
							<span>09:21</span>
						</div>
						<a href="#none" class="logout">연장</a>
						<a href="#none" class="logout">로그아웃</a>
					</div> -->
				</div>
				<div class="ratio">
					<a href="#none" class="minus"><span class="hidden">축소</span></a>
					<span class="ratioRate">100</span>
					<a href="#none" class="plus"><span class="hidden">확대</span></a>
				</div>
			</div>
		</div>
	</div>
	<div class="headerBot">
		<div class="inner">
			<div class="spowellLogo">
				<a href="#none">
					<h1 class="pcLogo">
						<img src="../../common/images/common/spowellLogo.svg" alt="spowell 체육인복지지원"/>
					</h1>
					<h1 class="moLogo">
						<img src="../../common/images/common/spowellLogo_mo.svg" alt="spowell 체육인복지지원"/>
					</h1>
				</a>
			</div>
			<div class="menu">
				<ul>
					<li class="depth01">
						<a href="#none" class="depth01Title">사업소개</a>
						<div class="depth02" tabindex="1">
							<div class="inner">
								<div class="leftArea ico ico01">
									<p class="title">사업소개</p>
								</div>
								<div class="rightArea">
									<ul>
										<li><a href="#none">체육인복지 사업</a></li>
										<li><a href="#none">체육인복지법</a></li>
									</ul>
								</div>
							</div>
						</div>
					</li>
					<li class="depth01">
						<a href="#none" class="depth01Title">신청·안내</a>
						<div class="depth02 withBg test">
							<div class="inner">
								<div class="leftArea ico ico02">
									<p class="title">신청·안내</p>
								</div>
								<div class="rightArea">
									<ul>
										<li>
											<a href="#none">복지신청</a>
											<div class="depth03">
												<ul>
													<li><a href="#none">경기력 성과포상금(선수)</a></li>
													<li><a href="#none">스포츠꿈나무 특기장려금</a></li>
													<li><a href="#none">경기력 성과포상금(지도자)</a></li>
													<li><a href="#none">원로체육인지원</a></li>
													<li><a href="#none">생활지원금</a></li>
													<li><a href="#none">체육유공자보상</a></li>
													<li><a href="#none">교육지원금(국내 대학원)</a></li>
													<li><a href="#none">창업지원</a></li>
													<li><a href="#none">교육지원금(국외유학)</a></li>
													<li><a href="#none">지도자연수</a></li>
													<li><a href="#none">보험지원금</a></li>
													<li><a href="#none">취업지원</a></li>
													<li><a href="#none">체육장학금</a></li>
												</ul>
											</div>
										</li>
										<li>
											<a href="#none">복지캘린더</a>
											<div class="depth03">
												<ul>
													<li><a href="#none">알람신청</a></li>
												</ul>
											</div>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</li>
					<li class="depth01">
						<a href="#none" class="depth01Title">체육인서비스</a>
						<div class="depth02">
							<div class="inner">
								<div class="leftArea ico ico03">
									<p class="title">체육인 서비스</p>
								</div>
								<div class="rightArea">
									<ul>
										<li><a href="#none">교육훈련</a></li>
										<li><a href="#none">권리·권익보호</a></li>
									</ul>
								</div>
							</div>
						</div>
					</li>
					<li class="depth01">
						<a href="#none" class="depth01Title">알림·소식</a>
						<div class="depth02">
							<div class="inner">
								<div class="leftArea ico ico04">
									<p class="title">알림·소식</p>
								</div>
								<div class="rightArea">
									<ul>
										<li class="type02"><a href="#none">공지사항</a></li>
										<li class="type02"><a href="#none">체육인복지 소식</a></li>
										<li class="type02"><a href="#none">보도자료</a></li>
										<li class="type02"><a href="#none">서식 자료실</a></li>
										<li class="type02"><a href="#none">자주찾는질문</a></li>
									</ul>
								</div>
							</div>
						</div>
					</li>
					<li class="depth01">
						<a href="#none" class="depth01Title">마이페이지</a>
						<div class="depth02">
							<div class="inner">
								<div class="leftArea ico ico05">
									<p class="title">마이페이지</p>
								</div>
								<div class="rightArea">
									<ul>
										<li class="type02"><a href="#none">나의 체육인복지</a></li>
										<li class="type02"><a href="#none">복지신청 현황</a></li>
										<li class="type02"><a href="#none">복지지원 현황</a></li>
										<li class="type02"><a href="#none">대회참여 현황</a></li>
										<li class="type02"><a href="#none">증명서 발급</a></li>
										<li class="type02"><a href="#none">회원정보수정</a></li>
									</ul>
								</div>
							</div>
						</div>
					</li>
					<li class="allMenu"><a href="#none"><span class="hidden">전체메뉴열기</span></a></li>
				</ul> 
			</div>

			<div class="moMenu">
				<ul>
					<li>
						<a href="#none"><img src="../../common/images/common/mo_hIcon01.svg" alt="회원관련 아이콘 이미지"><span class="hidden">회원관리</span></a>
					</li>
					<li>
						<a href="#none" class="menu-wrap">
							<span class="line">모바일</span>
							<span class="line">메뉴</span>
							<span class="line">열기</span>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<script>
	const menu = document.querySelector('.menu-wrap');

	menu.addEventListener('click',function(){
		if(menu.classList.contains('open')){
			menu.classList.remove('open');
		}else{
			menu.classList.add('open');
		}
	});

	document.addEventListener("DOMContentLoaded", function() {
		const depth01Titles = document.querySelectorAll(".depth01Title");
		const menuLinks = document.querySelectorAll(".headerBot .menu li a");
		const depth02Divs = document.querySelectorAll("div.depth02");
		const menu = document.querySelector(".headerBot .menu");
		const lastMenuLink = document.querySelector(".headerBot .menu li:last-of-type a");

		// .depth01Title에 focusin 이벤트
		depth01Titles.forEach(function(title) {
			title.addEventListener("focusin", function() {
				hideAllDepth02();
				removeAllOnClasses();
				const nextDiv = this.nextElementSibling;
				if (nextDiv) nextDiv.style.display = "block";
				this.classList.add("on");
			});
		});

		// 마지막 메뉴 링크에 focusout 이벤트
		if (lastMenuLink) {
			lastMenuLink.addEventListener("focusout", function() {
				hideAllDepth02();
				removeAllOnClasses();
			});
		}

		// .depth01Title에 mouseenter 이벤트
		depth01Titles.forEach(function(title) {
			title.addEventListener("mouseenter", function() {
				hideAllDepth02();
				removeAllOnClasses();
				const nextDiv = this.nextElementSibling;
				if (nextDiv) nextDiv.style.display = "block";
				this.classList.add("on");
			});
		});

		// 메뉴에 mouseleave 이벤트
		if (menu) {
			menu.addEventListener("mouseleave", function() {
				hideAllDepth02();
				removeAllOnClasses();
			});
		}

		// 모든 depth02 div 숨기기
		function hideAllDepth02() {
			depth02Divs.forEach(function(div) {
				div.style.display = "none";
			});
		}

		// 모든 .on 클래스 제거
		function removeAllOnClasses() {
			menuLinks.forEach(function(link) {
				link.classList.remove("on");
			});
		}
	});
</script>